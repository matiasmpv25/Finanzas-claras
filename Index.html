<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO Meta Tags: Crucial for Google Ranking -->
    <title>Finanzas Claras - Asesor IA Avanzado de Ahorro, Inversión y Deudas</title>
    <meta name="description" content="Tu guía definitiva de finanzas personales. Chatea con nuestro asesor IA avanzado que recuerda tu conversación. Aprende a ahorrar, salir de deudas e invertir para alcanzar tu libertad financiera.">
    <meta name="keywords" content="finanzas personales, asesor ia, chat financiero, ahorrar dinero, salir de deudas, invertir, presupuesto, libertad financiera, tarjeta de crédito, ingresos extra, finanzas para jóvenes">
    <meta name="author" content="Finanzas Claras">
    <link rel="canonical" href="https://www.finanzasclaras.com"> <!-- TODO: Reemplazar con tu dominio real -->

    <!-- Google AdSense -->
    <meta name="google-adsense-account" content="ca-pub-9353370245713442">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9353370245713442"
     crossorigin="anonymous"></script>

    <!-- Open Graph / Social Media Meta Tags -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.finanzasclaras.com">
    <meta property="og:title" content="Finanzas Claras - Tu Asesor Financiero con IA Avanzada">
    <meta property="og:description" content="Chatea con nuestro asesor IA que recuerda tu conversación y te guía para tomar el control de tu dinero.">
    <meta property="og:image" content="https://placehold.co/1200x630/10B981/FFFFFF?text=Finanzas+Claras+con+IA">

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://www.finanzasclaras.com">
    <meta name="twitter:title" content="Finanzas Claras - Tu Asesor Financiero con IA Avanzada">
    <meta name="twitter:description" content="Chatea con nuestro asesor IA que recuerda tu conversación y te guía para tomar el control de tu dinero.">
    <meta name="twitter:image" content="https://placehold.co/1200x630/10B981/FFFFFF?text=Finanzas+Claras+con+IA">

    <!-- Favicon -->
    <link rel="icon" href="https://placehold.co/32x32/10B981/FFFFFF?text=FC" type="image/png">

    <!-- Styles and Fonts -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        html { scroll-behavior: smooth; }
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; }
        .hero-bg {
            background-image: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('https://placehold.co/1400x700/10B981/FFFFFF?text=Libertad+Financiera');
            background-size: cover; background-position: center;
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1), 0 6px 6px rgba(0,0,0,0.1);
        }
        
        /* --- ESTILOS DEL ASESOR IA --- */
        #ai-chat-window {
            background: white;
            border-radius: 0.75rem;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            border: 1px solid #e2e8f0;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        #ai-chat-header {
            background-color: #f1f5f9;
            padding: 0.75rem 1.25rem;
            border-bottom: 1px solid #e2e8f0;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .ai-avatar { width: 40px; height: 40px; margin-right: 12px; }
        #ai-chat-messages {
            flex-grow: 1;
            padding: 1.5rem;
            overflow-y: auto;
            height: 400px;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        .chat-message { display: flex; align-items: flex-start; gap: 10px; max-width: 90%; }
        .chat-message.user { align-self: flex-end; flex-direction: row-reverse; }
        .chat-message .avatar { width: 32px; height: 32px; border-radius: 50%; background: #cbd5e1; flex-shrink: 0; display: flex; align-items: center; justify-content: center; }
        .chat-message.ai .avatar { background: #10B981; }
        .chat-message .message-content {
            padding: 0.75rem 1rem;
            border-radius: 0.75rem;
            line-height: 1.6;
        }
        .chat-message.user .message-content { background-color: #10B981; color: white; border-bottom-right-radius: 0.25rem; }
        .chat-message.ai .message-content { background-color: #f1f5f9; color: #1e293b; border-bottom-left-radius: 0.25rem; }
        .chat-message.ai .message-content p:not(:last-child) { margin-bottom: 0.75rem; }
        .chat-message.ai .message-content ul { margin-top: 0.75rem; margin-left: 1rem; list-style-type: disc; }
        .typing-indicator { display: flex; align-items: center; gap: 5px; }
        .typing-indicator span { width: 8px; height: 8px; background-color: #94a3b8; border-radius: 50%; animation: typing 1.2s infinite ease-in-out; }
        .typing-indicator span:nth-child(2) { animation-delay: 0.2s; }
        .typing-indicator span:nth-child(3) { animation-delay: 0.4s; }
        @keyframes typing { 0%, 80%, 100% { transform: scale(0); } 40% { transform: scale(1.0); } }

        #ai-chat-input-area { padding: 1rem; border-top: 1px solid #e2e8f0; background: #f8fafc; }
        .example-prompts button { background: #e2e8f0; color: #475569; font-size: 0.8rem; padding: 0.25rem 0.75rem; border-radius: 9999px; transition: all 0.2s; }
        .example-prompts button:hover { background: #cbd5e1; transform: translateY(-1px); }

        /* --- ESTILOS DE LOS ESPACIOS DE ADSENSE --- */
        .adsense-placeholder {
            border: 2px dashed #9ca3af;
            background-color: #f3f4f6;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 2rem;
            margin: 2rem auto;
            border-radius: 0.5rem;
            color: #6b7280;
            font-size: 0.9rem;
        }
        
        /* Modal Styles */
        .modal-overlay {
            position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0, 0, 0, 0.75);
            display: flex; align-items: center; justify-content: center;
            z-index: 1000; opacity: 0; visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        .modal-overlay.active { opacity: 1; visibility: visible; }
        .modal-content {
            background: white; padding: 1.5rem 2rem 2rem 2rem; border-radius: 0.75rem;
            max-width: 800px; width: 95%; max-height: 90vh;
            overflow-y: auto; position: relative;
            transform: translateY(20px) scale(0.95); transition: transform 0.3s ease;
        }
        .modal-overlay.active .modal-content { transform: translateY(0) scale(1); }
        .modal-close {
            position: absolute; top: 0.5rem; right: 0.75rem;
            background: #f1f5f9; border-radius: 9999px; width: 2rem; height: 2rem;
            border: none; font-size: 1.25rem; line-height: 2rem;
            cursor: pointer; color: #4b5563; transition: all 0.2s;
        }
        .modal-close:hover { background: #e2e8f0; transform: rotate(90deg); }
        /* Article Styles inside Modal */
        .article-body h3 { font-size: 1.25em; font-weight: bold; margin-top: 1.75rem; margin-bottom: 0.75rem; color: #10B981; }
        .article-body p, .article-body li { margin-bottom: 1rem; line-height: 1.7; color: #374151; }
        .article-body ul { list-style-type: disc; margin-left: 1.5rem; }
        .article-body strong { color: #1f2937; }
        /* Share Buttons */
        .share-buttons { margin-top: 2rem; padding-top: 1.5rem; border-top: 1px solid #e5e7eb; text-align: center; }
        .share-buttons p { font-weight: bold; margin-bottom: 1rem; }
        .share-btn { display: inline-block; padding: 0.5rem 1rem; margin: 0 0.25rem; border-radius: 9999px; color: white; text-decoration: none; transition: transform 0.2s; }
        .share-btn:hover { transform: scale(1.05); }
        .share-btn.whatsapp { background-color: #25D366; }
        .share-btn.facebook { background-color: #1877F2; }
        .share-btn.twitter { background-color: #1DA1F2; }
        /* Scroll to top button */
        #scrollTopBtn {
            position: fixed; bottom: 20px; right: 20px;
            background-color: #10B981; color: white;
            border: none; border-radius: 50%;
            width: 50px; height: 50px;
            font-size: 24px; cursor: pointer;
            display: none; z-index: 999;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            transition: opacity 0.3s, visibility 0.3s;
        }
    </style>
    
    <!-- Google Site Verification Tag -->
    <meta name="google-site-verification" content="7gdXI8hLMyXdI4Yz25h-TwDNg2XYobmbR8GeXGxD75g" />

</head>
<body class="bg-slate-50 text-gray-800">

    <!-- Header -->
    <header class="bg-white shadow-md sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#" class="text-3xl font-bold text-emerald-600">Finanzas Claras</a>
            <div class="hidden md:flex items-center space-x-6">
                <a href="#ai-advisor" class="text-gray-600 hover:text-emerald-500 transition duration-300">Asesor IA</a>
                <a href="#ahorro" class="text-gray-600 hover:text-emerald-500 transition duration-300">Ahorro</a>
                <a href="#inversion" class="text-gray-600 hover:text-emerald-500 transition duration-300">Inversión</a>
                <a href="#deudas" class="text-gray-600 hover:text-emerald-500 transition duration-300">Deudas</a>
                <a href="#" data-legal-id="about" class="open-legal-btn bg-emerald-500 text-white py-2 px-4 rounded-full hover:bg-emerald-600 transition duration-300">Sobre Nosotros</a>
            </div>
            <button class="md:hidden" id="mobile-menu-button"><i class="fas fa-bars text-2xl text-gray-600"></i></button>
        </nav>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t">
            <a href="#ai-advisor" class="block py-3 px-6 text-gray-600 hover:bg-emerald-50">Asesor IA</a>
            <a href="#ahorro" class="block py-3 px-6 text-gray-600 hover:bg-emerald-50">Ahorro</a>
            <a href="#inversion" class="block py-3 px-6 text-gray-600 hover:bg-emerald-50">Inversión</a>
            <a href="#deudas" class="block py-3 px-6 text-gray-600 hover:bg-emerald-50">Deudas</a>
            <a href="#" data-legal-id="about" class="open-legal-btn block py-3 px-6 text-gray-600 hover:bg-emerald-50">Sobre Nosotros</a>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <!-- Hero Section -->
        <section class="hero-bg">
            <div class="container mx-auto px-6 py-20 md:py-32 text-center text-white">
                <h1 class="text-4xl md:text-6xl font-bold mb-4 leading-tight">Toma el Control de tu Dinero y tu Futuro</h1>
                <p class="text-lg md:text-xl max-w-3xl mx-auto mb-8">La guía de finanzas personales que sí entiendes. Te enseñamos a ahorrar, invertir y pagar tus deudas paso a paso.</p>
                <a href="#ai-advisor" class="bg-white text-emerald-600 font-bold py-3 px-8 rounded-full hover:bg-gray-200 transition duration-300 text-lg shadow-lg">Chatea con nuestro Asesor IA</a>
            </div>
        </section>

        <!-- AI Advisor Section -->
        <section id="ai-advisor" class="py-16 lg:py-24">
            <div class="container mx-auto px-6">
                <div class="max-w-4xl mx-auto text-center mb-12">
                    <h2 class="text-3xl lg:text-4xl font-bold mb-2">Tu Asesor Financiero Personalizado</h2>
                    <p class="text-gray-600">Chatea con Fin, nuestra IA avanzada. Recuerda tu conversación y te ofrece respuestas claras y educativas para tus dudas financieras.</p>
                </div>
                
                <div id="ai-chat-window" class="max-w-3xl mx-auto">
                    <!-- Chat Header -->
                    <div id="ai-chat-header">
                        <div class="flex items-center">
                            <div class="ai-avatar">
                                <!-- SVG Avatar for AI -->
                                <svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <circle cx="50" cy="50" r="48" fill="#10B981"/>
                                    <path d="M50 50C50 63.8071 38.8071 75 25 75" stroke="white" stroke-width="6" stroke-linecap="round"/>
                                    <path d="M50 50C50 36.1929 61.1929 25 75 25" stroke="white" stroke-width="6" stroke-linecap="round"/>
                                    <circle cx="37" cy="42" r="6" fill="white"/>
                                    <circle cx="63" cy="42" r="6" fill="white"/>
                                    <path d="M35 62C38.3333 66 45.8 68 50 68C54.2 68 61.6667 66 65 62" stroke="white" stroke-width="4" stroke-linecap="round"/>
                                </svg>
                            </div>
                            <div>
                                <h3 class="font-bold text-gray-800">Fin, tu Asesor IA</h3>
                                <p class="text-sm text-gray-500">Online</p>
                            </div>
                        </div>
                        <div class="flex items-center gap-2">
                             <button id="copy-ai-response-btn" title="Copiar última respuesta" class="text-gray-500 hover:text-emerald-600 transition"><i class="fas fa-copy"></i></button>
                             <button id="clear-chat-btn" title="Limpiar chat" class="text-gray-500 hover:text-red-600 transition"><i class="fas fa-trash-alt"></i></button>
                        </div>
                    </div>
                    
                    <!-- Chat Messages -->
                    <div id="ai-chat-messages">
                        <!-- Messages will be injected here -->
                    </div>

                    <!-- Chat Input -->
                    <div id="ai-chat-input-area">
                        <div class="example-prompts mb-3 flex flex-wrap gap-2">
                            <span class="text-sm font-medium text-gray-600">Sugerencias:</span>
                            <button data-prompt="¿Cómo creo un presupuesto?">¿Cómo creo un presupuesto?</button>
                            <button data-prompt="Explícame qué es un ETF">Explícame qué es un ETF</button>
                            <button data-prompt="¿Es bueno consolidar deudas?">¿Es bueno consolidar deudas?</button>
                        </div>
                        <div class="flex items-center gap-3">
                            <input type="text" id="ai-question-input" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition" placeholder="Escribe tu pregunta aquí...">
                            <button id="ask-ai-btn" class="bg-emerald-500 text-white font-bold py-3 px-5 rounded-lg hover:bg-emerald-600 transition duration-300 flex-shrink-0">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- AdSense Placeholder 1 -->
        <div class="container mx-auto px-6">
            <div class="adsense-placeholder" style="min-height: 100px;">
                <div>
                    <p class="font-semibold">Espacio Publicitario de Google AdSense</p>
                    <p class="text-sm">Formato recomendado: Leaderboard (728x90) o Anuncio adaptable</p>
                    <!-- Bloque de Anuncio 1 -->
                    <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9353370245713442" data-ad-slot="0000000000" data-ad-format="auto" data-full-width-responsive="true"></ins>
                    <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
                </div>
            </div>
        </div>

        <div class="container mx-auto px-6 py-12">
            <!-- Articles Section: Deudas -->
            <section id="deudas">
                <h2 class="text-3xl font-bold mb-2 text-center">Libérate de las Deudas</h2>
                <p class="text-center text-gray-600 mb-8">Estrategias probadas para pagar lo que debes y recuperar tu tranquilidad.</p>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <article class="bg-white rounded-lg shadow-lg overflow-hidden card-hover transition duration-300">
                        <img src="https://placehold.co/400x250/EF4444/FFFFFF?text=Salir+de+Deudas" alt="[Imagen de una persona rompiendo una tarjeta de crédito como símbolo de salir de deudas.]" class="w-full h-48 object-cover">
                        <div class="p-6">
                            <span class="text-xs font-semibold text-red-500">GUÍA PRINCIPAL</span>
                            <h3 class="font-bold text-lg my-2">La Guía Definitiva para Salir de Deudas</h3>
                            <a href="#" data-article-id="deudas-guia" class="open-modal-btn text-emerald-600 font-semibold hover:underline text-sm">Leer guía completa &rarr;</a>
                        </div>
                    </article>
                    <article class="bg-white rounded-lg shadow-lg overflow-hidden card-hover transition duration-300">
                        <img src="https://placehold.co/400x250/F87171/FFFFFF?text=Bola+vs+Avalancha" alt="[Imagen de una balanza comparando dos métodos de pago de deudas.]" class="w-full h-48 object-cover">
                        <div class="p-6">
                            <span class="text-xs font-semibold text-red-500">ESTRATEGIA</span>
                            <h3 class="font-bold text-lg my-2">"Bola de Nieve" vs "Avalancha": ¿Cuál es mejor para ti?</h3>
                            <a href="#" data-article-id="bola-avalancha" class="open-modal-btn text-emerald-600 font-semibold hover:underline text-sm">Descubre tu método &rarr;</a>
                        </div>
                    </article>
                    <article class="bg-white rounded-lg shadow-lg overflow-hidden card-hover transition duration-300">
                        <img src="https://placehold.co/400x250/FB923C/FFFFFF?text=Consolidar+Deudas" alt="[Imagen de varias deudas pequeñas convirtiéndose en una grande.]" class="w-full h-48 object-cover">
                        <div class="p-6">
                            <span class="text-xs font-semibold text-red-500">AVANZADO</span>
                            <h3 class="font-bold text-lg my-2">¿Vale la pena consolidar tus deudas? Pros y contras</h3>
                            <a href="#" data-article-id="consolidar-deudas" class="open-modal-btn text-emerald-600 font-semibold hover:underline text-sm">Analizar la opción &rarr;</a>
                        </div>
                    </article>
                </div>
            </section>
            
            <!-- Articles Section: Ahorro -->
            <section id="ahorro" class="mt-16">
                <h2 class="text-3xl font-bold mb-2 text-center">Domina el Arte del Ahorro</h2>
                <p class="text-center text-gray-600 mb-8">Aprende a gastar de forma inteligente y a construir tu patrimonio.</p>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <article class="bg-white rounded-lg shadow-lg overflow-hidden card-hover transition duration-300">
                        <img src="https://placehold.co/400x250/3B82F6/FFFFFF?text=Presupuesto+50/30/20" alt="[Imagen de un gráfico circular mostrando la regla 50/30/20.]" class="w-full h-48 object-cover">
                        <div class="p-6">
                            <span class="text-xs font-semibold text-blue-500">PRESUPUESTO</span>
                            <h3 class="font-bold text-lg my-2">Cómo crear un presupuesto que sí funciona: El método 50/30/20</h3>
                            <a href="#" data-article-id="presupuesto-50-30-20" class="open-modal-btn text-emerald-600 font-semibold hover:underline text-sm">Aprender el método &rarr;</a>
                        </div>
                    </article>
                    <article class="bg-white rounded-lg shadow-lg overflow-hidden card-hover transition duration-300">
                        <img src="https://placehold.co/400x250/EC4899/FFFFFF?text=Gastos+Hormiga" alt="[Imagen de pequeñas hormigas llevándose monedas.]" class="w-full h-48 object-cover">
                        <div class="p-6">
                            <span class="text-xs font-semibold text-pink-500">AHORRO DIARIO</span>
                            <h3 class="font-bold text-lg my-2">10 "Gastos Hormiga" que están saboteando tu ahorro</h3>
                            <a href="#" data-article-id="gastos-hormiga" class="open-modal-btn text-emerald-600 font-semibold hover:underline text-sm">Eliminar gastos &rarr;</a>
                        </div>
                    </article>
                    <article class="bg-white rounded-lg shadow-lg overflow-hidden card-hover transition duration-300">
                        <img src="https://placehold.co/400x250/A855F7/FFFFFF?text=Fondo+de+Emergencia" alt="[Imagen de un salvavidas con un símbolo de dólar.]" class="w-full h-48 object-cover">
                        <div class="p-6">
                            <span class="text-xs font-semibold text-purple-500">SEGURIDAD</span>
                            <h3 class="font-bold text-lg my-2">Cómo crear un fondo de emergencia: Tu colchón financiero</h3>
                            <a href="#" data-article-id="fondo-emergencia" class="open-modal-btn text-emerald-600 font-semibold hover:underline text-sm">Construir mi fondo &rarr;</a>
                        </div>
                    </article>
                </div>
            </section>
        </div>
        
        <!-- AdSense Placeholder 2 -->
        <div class="container mx-auto px-6">
             <div class="adsense-placeholder" style="min-height: 280px; max-width: 336px;">
                <div>
                    <p class="font-semibold">Espacio Publicitario de Google AdSense</p>
                    <p class="text-sm">Formato recomendado: Medium Rectangle (300x250) o Large Rectangle (336x280)</p>
                    <!-- Bloque de Anuncio 2 -->
                    <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9353370245713442" data-ad-slot="1111111111" data-ad-format="auto" data-full-width-responsive="true"></ins>
                    <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
                </div>
            </div>
        </div>

        <div class="container mx-auto px-6 py-12">
            <!-- Articles Section: Inversion -->
            <section id="inversion" class="mt-16">
                <h2 class="text-3xl font-bold mb-2 text-center">Haz que tu Dinero Trabaje para Ti</h2>
                <p class="text-center text-gray-600 mb-8">Invertir es para todos. Descubre cómo empezar, incluso con poco dinero.</p>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Artículo Original 1 -->
                    <article class="bg-white rounded-lg shadow-lg overflow-hidden card-hover transition duration-300">
                        <img src="https://placehold.co/400x250/FBBF24/FFFFFF?text=Invertir+con+<100" alt="[Imagen de una pequeña planta creciendo de unas monedas.]" class="w-full h-48 object-cover">
                        <div class="p-6">
                            <span class="text-xs font-semibold text-amber-500">PRINCIPIANTES</span>
                            <h3 class="font-bold text-lg my-2">5 Inversiones para empezar con menos de $100 USD</h3>
                            <a href="#" data-article-id="inversion-principiantes" class="open-modal-btn text-emerald-600 font-semibold hover:underline text-sm">Descubrir opciones &rarr;</a>
                        </div>
                    </article>
                    <!-- Artículo Original 2 -->
                    <article class="bg-white rounded-lg shadow-lg overflow-hidden card-hover transition duration-300">
                        <img src="https://placehold.co/400x250/F59E0B/FFFFFF?text=ETFs" alt="[Imagen de una canasta llena de logos de diferentes empresas.]" class="w-full h-48 object-cover">
                        <div class="p-6">
                            <span class="text-xs font-semibold text-amber-500">DIVERSIFICACIÓN</span>
                            <h3 class="font-bold text-lg my-2">¿Qué son los ETFs y por qué son ideales para empezar?</h3>
                            <a href="#" data-article-id="que-son-etfs" class="open-modal-btn text-emerald-600 font-semibold hover:underline text-sm">Entender los ETFs &rarr;</a>
                        </div>
                    </article>
                    <!-- Artículo Original 3 -->
                    <article class="bg-white rounded-lg shadow-lg overflow-hidden card-hover transition duration-300">
                        <img src="https://placehold.co/400x250/84CC16/FFFFFF?text=Psicología+del+Dinero" alt="[Imagen de un cerebro con símbolos de dinero dentro.]" class="w-full h-48 object-cover">
                        <div class="p-6">
                            <span class="text-xs font-semibold text-lime-500">MENTALIDAD</span>
                            <h3 class="font-bold text-lg my-2">Psicología del dinero: Cómo tus emociones afectan tus finanzas</h3>
                            <a href="#" data-article-id="psicologia-dinero" class="open-modal-btn text-emerald-600 font-semibold hover:underline text-sm">Controlar mis emociones &rarr;</a>
                        </div>
                    </article>
                    <!-- NUEVO ARTÍCULO 1 -->
                    <article class="bg-white rounded-lg shadow-lg overflow-hidden card-hover transition duration-300">
                        <img src="https://placehold.co/400x250/22C55E/FFFFFF?text=Invertir+en+Bolsa" alt="[Imagen de un gráfico de acciones subiendo.]" class="w-full h-48 object-cover">
                        <div class="p-6">
                            <span class="text-xs font-semibold text-green-500">GUÍA DE INVERSIÓN</span>
                            <h3 class="font-bold text-lg my-2">Cómo Empezar a Invertir en la Bolsa de Valores</h3>
                            <a href="#" data-article-id="invertir-bolsa" class="open-modal-btn text-emerald-600 font-semibold hover:underline text-sm">Leer la guía &rarr;</a>
                        </div>
                    </article>
                    <!-- NUEVO ARTÍCULO 2 -->
                    <article class="bg-white rounded-lg shadow-lg overflow-hidden card-hover transition duration-300">
                        <img src="https://placehold.co/400x250/F43F5E/FFFFFF?text=Errores+Financieros" alt="[Imagen de una tarjeta de crédito rota.]" class="w-full h-48 object-cover">
                        <div class="p-6">
                            <span class="text-xs font-semibold text-rose-500">JÓVENES</span>
                            <h3 class="font-bold text-lg my-2">7 Errores Financieros en tus 20s (y cómo evitarlos)</h3>
                            <a href="#" data-article-id="errores-20s" class="open-modal-btn text-emerald-600 font-semibold hover:underline text-sm">Evitar errores &rarr;</a>
                        </div>
                    </article>
                </div>
            </section>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white mt-12">
        <div class="container mx-auto px-6 py-10">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8 text-center md:text-left">
                <div class="md:col-span-2">
                    <h3 class="text-xl font-bold">Finanzas Claras</h3>
                    <p class="text-sm text-gray-400 mt-2 max-w-md">Empoderando tus decisiones financieras con conocimiento claro, práctico y sin rodeos. Creemos que todos merecen tener el control de su futuro financiero.</p>
                </div>
                <div>
                    <h4 class="font-bold">Categorías</h4>
                    <ul class="mt-2 space-y-2">
                        <li><a href="#ahorro" class="text-gray-400 hover:text-white transition duration-300">Ahorro y Presupuesto</a></li>
                        <li><a href="#inversion" class="text-gray-400 hover:text-white transition duration-300">Inversión para Todos</a></li>
                        <li><a href="#deudas" class="text-gray-400 hover:text-white transition duration-300">Salir de Deudas</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-bold">Información Legal</h4>
                    <ul class="mt-2 space-y-2">
                        <li><a href="#" data-legal-id="about" class="open-legal-btn text-gray-400 hover:text-white">Sobre Nosotros</a></li>
                        <li><a href="#" data-legal-id="contact" class="open-legal-btn text-gray-400 hover:text-white">Contacto</a></li>
                        <li><a href="#" data-legal-id="privacy" class="open-legal-btn text-gray-400 hover:text-white">Política de Privacidad</a></li>
                        <li><a href="#" data-legal-id="cookies" class="open-legal-btn text-gray-400 hover:text-white">Política de Cookies</a></li>
                        <li><a href="#" data-legal-id="terms" class="open-legal-btn text-gray-400 hover:text-white">Términos de Servicio</a></li>
                    </ul>
                </div>
            </div>
            <div class="mt-8 border-t border-gray-700 pt-6 flex flex-col md:flex-row justify-between items-center">
                <p class="text-sm text-gray-500">&copy; 2024 Finanzas Claras. Todos los derechos reservados.</p>
                <div class="flex space-x-4 mt-4 md:mt-0">
                    <a href="#" class="text-gray-400 hover:text-white transition duration-300"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" class="text-gray-400 hover:text-white transition duration-300"><i class="fab fa-instagram"></i></a>
                    <a href="#" class="text-gray-400 hover:text-white transition duration-300"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="text-gray-400 hover:text-white transition duration-300"><i class="fab fa-youtube"></i></a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Modal Structure -->
    <div id="modal" class="modal-overlay">
        <div id="modal-content" class="modal-content">
            <button id="modal-close-btn" class="modal-close">&times;</button>
            <h2 id="modal-title" class="text-3xl font-bold mb-4 text-gray-800"></h2>
            <div id="modal-body" class="article-body"></div>
        </div>
    </div>
    
    <!-- Scroll to Top Button -->
    <button id="scrollTopBtn" title="Volver arriba"><i class="fas fa-arrow-up"></i></button>

    <script>
    // --- CONTENT DATABASE ---
    const contentData = {
        articles: {
            'deudas-guia': {
                title: 'La Guía Definitiva para Salir de Deudas',
                content: `<h3>Paso 1: Afronta la Realidad (Sin Miedo)</h3><p>Haz una lista de TODAS tus deudas: a quién le debes, cuánto, la tasa de interés y el pago mínimo. La claridad es poder.</p><h3>Paso 2: Crea un Presupuesto de "Modo Guerra"</h3><p>Rastrea tus gastos, clasifícalos en <strong>necesidades</strong> y <strong>deseos</strong>, y recorta sin piedad de la columna de "deseos". Recuerda, es temporal.</p><h3>Paso 3: Elige tu Estrategia de Ataque</h3><p>Usa el método "Bola de Nieve" (pagar primero la deuda más pequeña para motivarte) o "Avalancha" (pagar primero la de interés más alto para ahorrar dinero). El mejor es el que sigas con disciplina.</p><h3>Paso 4: Aumenta tus Ingresos</h3><p>Recortar gastos tiene un límite. Busca formas de ganar un extra y destina cada peso DIRECTAMENTE a tus deudas.</p>`
            },
            'bola-avalancha': {
                title: '"Bola de Nieve" vs "Avalancha": ¿Cuál es mejor?',
                content: `<h3>El Método "Bola de Nieve": Poder Psicológico</h3><p>Se enfoca en la <strong>motivación</strong>. Ordenas tus deudas de la más pequeña a la más grande y atacas la más pequeña con todo tu dinero extra. Al eliminarla rápido, obtienes una victoria que te impulsa a seguir.</p><h3>El Método "Avalancha": Poder Matemático</h3><p>Se enfoca en la <strong>eficiencia</strong>. Ordenas tus deudas por la tasa de interés más alta y la atacas primero. Ahorrarás más dinero en intereses a largo plazo.</p><h3>Conclusión:</h3><p>Si necesitas motivación rápida, elige Bola de Nieve. Si te impulsa la eficiencia, elige Avalancha.</p>`
            },
            'consolidar-deudas': {
                title: '¿Vale la pena consolidar tus deudas?',
                content: `<h3>Pros de Consolidar</h3><ul><li><strong>Simplificación:</strong> Un solo pago mensual.</li><li><strong>Ahorro en Intereses:</strong> Si consigues una tasa más baja.</li><li><strong>Pago Fijo:</strong> Facilita la planificación.</li></ul><h3>Contras a Considerar</h3><ul><li><strong>No resuelve la causa raíz:</strong> Debes cambiar tus hábitos de gasto.</li><li><strong>Costos ocultos:</strong> Algunos préstamos tienen comisiones.</li><li><strong>Plazo más largo:</strong> Podrías terminar pagando más intereses en total.</li></ul><p>Es una buena opción si tienes buen crédito y estás comprometido a no endeudarte de nuevo.</p>`
            },
            'presupuesto-50-30-20': {
                title: 'El método 50/30/20 para presupuestar',
                content: `<p>Es una forma simple de dividir tus ingresos netos:</p><ul><li><strong>50% para Necesidades:</strong> Gastos esenciales (vivienda, comida, transporte).</li><li><strong>30% para Deseos:</strong> Lo que hace la vida más divertida (hobbies, salidas).</li><li><strong>20% para Ahorro y Deudas:</strong> El dinero que trabaja para tu futuro.</li></ul><p>La clave es automatizar ese 20% para que se transfiera a una cuenta de ahorros o inversión apenas recibas tu salario.</p>`
            },
            'gastos-hormiga': {
                title: '10 "Gastos Hormiga" que sabotean tu ahorro',
                content: `<p>Son pequeñas compras diarias que parecen insignificantes, pero que sumadas, se comen tu presupuesto.</p><h3>Ejemplos comunes:</h3><ul><li>El café de la mañana.</li><li>Botellas de agua.</li><li>Comisiones de cajero automático.</li><li>Compras impulsivas en la caja.</li><li>Suscripciones que no usas.</li><li>Delivery y comida para llevar.</li></ul><p>Elige uno o dos de esta lista y concéntrate en eliminarlos. Verás cómo tu capacidad de ahorro aumenta.</p>`
            },
            'fondo-emergencia': {
                title: 'Cómo crear tu fondo de emergencia',
                content: `<p>Es tu red de seguridad para imprevistos. El dinero que te permite dormir tranquilo.</p><h3>Paso 1: Define tu Meta</h3><p>Ahorra entre <strong>3 y 6 meses de tus gastos de vida esenciales</strong>.</p><h3>Paso 2: Empieza Pequeño, pero Empieza YA</h3><p>El primer objetivo es conseguir $500 o $1,000. Abre una cuenta separada y haz tu primer depósito hoy.</p><h3>Paso 3: Automatiza el Proceso</h3><p>Configura una transferencia automática a tu cuenta de emergencia para el día después de que cobres.</p>`
            },
            'inversion-principiantes': {
                title: '5 Inversiones para empezar con menos de $100',
                content: `<h3>1. Fondos Indexados o ETFs</h3><p>Permiten comprar una pequeña parte de cientos de empresas a la vez, diversificando tu riesgo con costos muy bajos.</p><h3>2. Crowdfunding Inmobiliario</h3><p>Te unes a otros para financiar proyectos inmobiliarios y recibir una parte de las ganancias.</p><h3>3. Criptomonedas (Con precaución)</h3><p>Son de muy alto riesgo. Invierte solo una cantidad que estés dispuesto a perder.</p><h3>4. Invierte en ti mismo</h3><p>Compra libros o toma cursos que mejoren tus habilidades. El conocimiento genera el mayor retorno.</p>`
            },
            'que-son-etfs': {
                title: '¿Qué son los ETFs y por qué son ideales para empezar?',
                content: `<p>Un ETF (Fondo Cotizado en Bolsa) es como una canasta que contiene acciones de cientos de empresas. En lugar de comprar una acción de Apple, un ETF te da una porción de muchas a la vez.</p><h3>Ventajas Clave:</h3><ul><li><strong>Diversificación Instantánea:</strong> Reduce drásticamente el riesgo.</li><li><strong>Bajos Costos:</strong> Sus comisiones son extremadamente bajas.</li><li><strong>Simplicidad:</strong> Se compran y venden como una acción normal.</li></ul><p>Son el punto de partida ideal para la mayoría de los nuevos inversores.</p>`
            },
            'psicologia-dinero': {
                title: 'Psicología del dinero: Cómo tus emociones afectan tus finanzas',
                content: `<p>Manejar el dinero es 80% comportamiento.</p><h3>1. Miedo a Perder (Aversión a la Pérdida)</h3><p>El dolor de perder es más fuerte que la alegría de ganar. Nos lleva a vender en pánico. <strong>Solución:</strong> Ten un plan a largo plazo y automatiza tus inversiones.</p><h3>2. Miedo a Quedarse Fuera (FOMO)</h3><p>Nos lleva a comprar caro, guiados por la euforia. <strong>Solución:</strong> No inviertas en algo que no entiendes. La inversión exitosa es aburrida.</p>`
            },
            'invertir-bolsa': {
                title: 'Cómo Empezar a Invertir en la Bolsa de Valores',
                content: `
                    <p>Invertir en la bolsa de valores puede sonar intimidante, pero es una de las formas más efectivas de hacer crecer tu dinero a largo plazo. Esta guía te mostrará los pasos esenciales para empezar.</p>
                    <h3>1. Entiende los Conceptos Básicos</h3>
                    <p>La bolsa no es un casino. Al comprar una <strong>acción</strong>, adquieres una pequeña parte de una empresa. Si la empresa crece y tiene éxito, el valor de tu acción aumenta. Un <strong>ETF (Fondo Cotizado)</strong> es una canasta que contiene muchas acciones diferentes, lo que te permite diversificar tu inversión fácilmente.</p>
                    <h3>2. Define tus Objetivos y Tolerancia al Riesgo</h3>
                    <p>¿Para qué estás invirtiendo? ¿Para la jubilación, comprar una casa, o simplemente hacer crecer tu patrimonio? Tu horizonte de tiempo y cuánto riesgo estás dispuesto a aceptar definirán tu estrategia. A mayor plazo, mayor riesgo puedes asumir.</p>
                    <h3>3. Abre una Cuenta en un Bróker</h3>
                    <p>Un bróker es una plataforma online que te permite comprar y vender acciones y otros activos. Investiga brókers regulados en tu país que ofrezcan bajas comisiones. Abrir una cuenta es similar a abrir una cuenta bancaria online.</p>
                    <h3>4. Empieza con ETFs Indexados</h3>
                    <p>Para la mayoría de los principiantes, la mejor estrategia es empezar con ETFs que sigan un índice amplio, como el S&P 500. Esto te da exposición a las empresas más grandes y diversifica tu riesgo instantáneamente sin necesidad de ser un experto.</p>
                    <h3>5. Invierte de Forma Consistente y Piensa a Largo Plazo</h3>
                    <p>No intentes predecir el mercado. La estrategia más probada es el <strong>Dollar Cost Averaging (DCA)</strong>: invertir una cantidad fija de dinero de forma regular (ej. cada mes), sin importar si el mercado sube o baja. Esto promedia tu costo de compra y reduce el impacto de la volatilidad. La paciencia es tu mayor aliada.</p>
                `
            },
            'errores-20s': {
                title: '7 Errores Financieros en tus 20s (y cómo evitarlos)',
                content: `
                    <p>Tus 20s son una década fundamental para sentar las bases de tu futuro financiero. Evitar estos errores comunes puede marcar una gran diferencia.</p>
                    <h3>1. No Tener un Presupuesto</h3>
                    <p>Si no sabes a dónde va tu dinero, es imposible controlarlo. Usa una app o una simple hoja de cálculo para rastrear tus ingresos y gastos. Te sorprenderá ver a dónde se va el dinero.</p>
                    <h3>2. Acumular Deuda de Tarjeta de Crédito</h3>
                    <p>Los intereses de las tarjetas de crédito son destructivos para tu patrimonio. Úsalas como un medio de pago, no de financiación. Paga el saldo completo cada mes.</p>
                    <h3>3. No Empezar a Ahorrar para el Retiro</h3>
                    <p>Puede parecer lejano, pero el <strong>interés compuesto</strong> es tu mejor amigo. Cada dólar que inviertes en tus 20s tiene décadas para crecer. Empieza, aunque sea con poco.</p>
                    <h3>4. Ceder a la "Inflación del Estilo de Vida"</h3>
                    <p>Cuando recibes un aumento, la tentación es gastar más. En lugar de eso, destina una gran parte de ese nuevo ingreso al ahorro y la inversión.</p>
                    <h3>5. No Tener un Fondo de Emergencia</h3>
                    <p>Un gasto inesperado no debería convertirse en una crisis financiera. Ahorra al menos 3 a 6 meses de tus gastos esenciales en una cuenta separada y accesible.</p>
                    <h3>6. No Invertir por Miedo o Desconocimiento</h3>
                    <p>La inflación hace que tu dinero pierdo valor si solo lo dejas en el banco. Aprende los conceptos básicos de la inversión (como los ETFs) y empieza a poner tu dinero a trabajar.</p>
                    <h3>7. Compararte con los Demás</h3>
                    <p>Las redes sociales hacen que parezca que todos viven vidas de lujo. Concéntrate en tu propio camino y tus metas financieras. La verdadera riqueza es la tranquilidad, no las apariencias.</p>
                `
            }
        },
        legal: {
            'about': { 
                title: 'Sobre Nosotros', 
                content: `<h3>Nuestra Misión en Finanzas Claras</h3><p>Finanzas Claras nació de una idea simple: la educación financiera debe ser accesible, clara y práctica para todos. Estamos cansados del lenguaje complicado, los consejos poco realistas y la idea de que para manejar bien tu dinero necesitas ser un experto en Wall Street.</p><p>Nuestra misión es desmitificar el mundo de las finanzas personales. Queremos darte las herramientas, el conocimiento y la confianza para que tomes el control de tu dinero, sin importar cuánto ganes. Creemos en el poder de las pequeñas acciones consistentes para lograr grandes resultados: desde salir de deudas y crear un presupuesto que funcione, hasta dar tus primeros pasos en el mundo de la inversión.</p><p>Somos un equipo de entusiastas de las finanzas y la comunicación, dedicados a crear contenido de alta calidad que realmente ayude a las personas a mejorar su vida financiera. Gracias por ser parte de nuestra comunidad.</p>` 
            },
            'contact': { 
                title: 'Contacto', 
                content: `<h3>¡Hablemos!</h3><p>Si tienes preguntas sobre nuestros artículos, sugerencias para nuevos temas o simplemente quieres saludar, nos encantaría saber de ti. Tu feedback es muy valioso para nosotros.</p><p>Puedes contactarnos a través del siguiente correo electrónico:</p><p><strong>Email:</strong> <a href="mailto:finanzasclarasv@gmail.com" class="text-emerald-600 hover:underline">finanzasclarasv@gmail.com</a></p><p>Hacemos nuestro mejor esfuerzo por responder a todos los mensajes en un plazo de 48 horas hábiles.</p>` 
            },
            'privacy': { 
                title: 'Política de Privacidad', 
                content: `
                    <p><strong>Última actualización:</strong> 11 de Julio de 2024</p>
                    <h3>1. Introducción</h3>
                    <p>En Finanzas Claras ("nosotros", "nuestro"), tu privacidad es de suma importancia. Esta Política de Privacidad explica qué información recopilamos de los usuarios del sitio web (el "Sitio"), cómo la usamos, y tus derechos en relación a esa información.</p>
                    <h3>2. Información que Recopilamos</h3>
                    <p>Recopilamos información de forma automática a través de cookies y tecnologías similares para entender cómo interactúas con nuestro Sitio. Esto incluye datos como tu tipo de navegador, páginas visitadas, y tiempo de permanencia. Esta información es anónima y se utiliza para mejorar la experiencia del usuario.</p>
                    <h3>3. Uso de Cookies</h3>
                    <p>Utilizamos cookies para el funcionamiento técnico del sitio, para análisis de tráfico y para fines publicitarios. Para más detalles, por favor consulta nuestra <a href="#" data-legal-id="cookies" class="open-legal-btn text-emerald-600 hover:underline">Política de Cookies</a>.</p>
                    <h3>4. Google AdSense y Publicidad de Terceros</h3>
                    <p>Utilizamos Google AdSense para mostrar anuncios en nuestro Sitio. Google, como proveedor de terceros, utiliza cookies para publicar anuncios basados en las visitas anteriores de un usuario a nuestro Sitio o a otros sitios web. La cookie de publicitaria de Google (anteriormente DoubleClick DART) permite a Google y a sus socios publicar anuncios basados en tu visita a nuestros sitios y/o a otros sitios en Internet.</p>
                    <p>Puedes inhabilitar la publicidad personalizada visitando la <a href="https://www.google.com/settings/ads" target="_blank" rel="noopener noreferrer" class="text-emerald-600 hover:underline">Configuración de anuncios de Google</a>. Alternativamente, puedes visitar <a href="https://www.aboutads.info/choices/" target="_blank" rel="noopener noreferrer" class="text-emerald-600 hover:underline">www.aboutads.info/choices/</a> para inhabilitar el uso de cookies de un proveedor tercero para publicidad personalizada.</p>
                    <h3>5. Asesor con IA</h3>
                    <p>Las conversaciones con nuestro Asesor IA "Fin" son procesadas por la API de Google Gemini para generar respuestas. Aunque mantenemos un historial temporal para dar contexto a la conversación, no almacenamos permanentemente datos personales de estas interacciones. No compartas información sensible o personal en el chat.</p>
                    <h3>6. Tus Derechos de Protección de Datos</h3>
                    <p>Dependiendo de tu ubicación, puedes tener derechos como acceder, corregir, o solicitar la eliminación de tu información personal. Para ejercer estos derechos, contáctanos en <a href="mailto:finanzasclarasv@gmail.com" class="text-emerald-600 hover:underline">finanzasclarasv@gmail.com</a>.</p>
                    <h3>7. Cambios a esta Política</h3>
                    <p>Podemos actualizar esta política de vez en cuando. La fecha de la "Última actualización" en la parte superior de esta página indicará cuándo se realizaron las últimas revisiones.</p>
                ` 
            },
            'cookies': { 
                title: 'Política de Cookies', 
                content: `
                    <p><strong>Última actualización:</strong> 11 de Julio de 2024</p>
                    <h3>¿Qué son las cookies?</h3>
                    <p>Una cookie es un pequeño fichero de texto que un sitio web almacena en tu ordenador o dispositivo móvil cuando visitas el sitio. Permite que el sitio web recuerde tus acciones y preferencias (como inicio de sesión, idioma, tamaño de fuente y otras preferencias de visualización) durante un período de tiempo, para que no tengas que volver a introducirlas cada vez que vuelvas al sitio o navegues de una página a otra.</p>
                    <h3>¿Cómo utilizamos las cookies?</h3>
                    <p>En Finanzas Claras, utilizamos cookies para varios propósitos:</p>
                    <ul>
                        <li><strong>Cookies Técnicas (Esenciales):</strong> Son necesarias para que el sitio web funcione correctamente. Permiten la navegación y el uso de funciones básicas.</li>
                        <li><strong>Cookies de Análisis:</strong> Utilizamos cookies de terceros como Google Analytics para recopilar información anónima sobre cómo los visitantes usan nuestro sitio. Esto nos ayuda a entender qué contenido es más popular y cómo podemos mejorar la estructura y la experiencia del sitio.</li>
                        <li><strong>Cookies de Publicidad:</strong> Utilizamos cookies de terceros, principalmente de Google AdSense, para mostrar anuncios relevantes para ti. Estas cookies rastrean tu navegación a través de sitios web para mostrarte anuncios basados en tus intereses.</li>
                    </ul>
                    <h3>Cómo controlar las cookies</h3>
                    <p>Puedes controlar y/o eliminar las cookies como desees. Para más detalles, consulta <a href="https://www.aboutcookies.org" target="_blank" rel="noopener noreferrer" class="text-emerald-600 hover:underline">aboutcookies.org</a>. Puedes eliminar todas las cookies que ya están en tu ordenador y puedes configurar la mayoría de los navegadores para evitar que se coloquen. Sin embargo, si haces esto, es posible que tengas que ajustar manualmente algunas preferencias cada vez que visites un sitio y que algunos servicios y funcionalidades no funcionen.</p>
                ` 
            },
            'terms': { 
                title: 'Términos de Servicio', 
                content: `
                    <p><strong>Última actualización:</strong> 11 de Julio de 2024</p>
                    <h3>1. Aceptación de los Términos</h3>
                    <p>Al acceder y utilizar el sitio web Finanzas Claras (el "Sitio"), aceptas estar sujeto a estos Términos de Servicio y a todas las leyes y regulaciones aplicables. Si no estás de acuerdo con alguno de estos términos, tienes prohibido usar o acceder a este sitio.</p>
                    <h3>2. Descargo de Responsabilidad (Disclaimer)</h3>
                    <p>El contenido proporcionado en este Sitio es <strong>únicamente para fines informativos y educativos</strong>. La información aquí presentada no constituye asesoramiento financiero, de inversión, legal, fiscal o de otro tipo. No somos asesores financieros certificados. Las decisiones financieras personales son complejas y conllevan riesgos. Siempre recomendamos encarecidamente que consultes a un profesional financiero certificado y cualificado que pueda evaluar tu situación personal antes de tomar cualquier decisión financiera.</p>
                    <h3>3. Uso del Contenido</h3>
                    <p>Todo el contenido de este Sitio, incluyendo texto, gráficos, y el Asesor IA, es propiedad de Finanzas Claras. Se permite el uso personal y no comercial. Queda prohibida la reproducción total o parcial para fines comerciales sin nuestra autorización previa por escrito.</p>
                    <h3>4. Limitación de Responsabilidad</h3>
                    <p>No nos hacemos responsables de las decisiones financieras que tomes basadas en la información de este Sitio. El uso de cualquier información proporcionada en este sitio es bajo tu propio riesgo. No garantizamos la exactitud, actualidad o integridad del contenido.</p>
                    <h3>5. Enlaces a Terceros</h3>
                    <p>Nuestro Sitio puede contener enlaces a sitios web de terceros que no son propiedad ni están controlados por Finanzas Claras. No tenemos control ni asumimos responsabilidad por el contenido, las políticas de privacidad o las prácticas de los sitios web de terceros.</p>
                    <h3>6. Modificaciones</h3>
                    <p>Nos reservamos el derecho de modificar estos términos en cualquier momento. Te recomendamos que revises esta página periódicamente para estar al tanto de cualquier cambio.</p>
                ` 
            }
        }
    };

    document.addEventListener('DOMContentLoaded', () => {
        // --- MODAL & INTERACTIVITY LOGIC ---
        const modal = document.getElementById('modal');
        const modalTitle = document.getElementById('modal-title');
        const modalBody = document.getElementById('modal-body');
        const closeModalBtn = document.getElementById('modal-close-btn');
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        const scrollTopBtn = document.getElementById('scrollTopBtn');

        function generateShareLinks(articleId, title) {
            const url = window.location.href.split('#')[0] + '#' + articleId;
            const text = encodeURIComponent(`¡Mira este artículo sobre "${title}" en Finanzas Claras!`);
            return `<div class="share-buttons"><p>¡Si te gustó, compártelo!</p><a href="https://api.whatsapp.com/send?text=${text}%20${encodeURIComponent(url)}" target="_blank" class="share-btn whatsapp"><i class="fab fa-whatsapp"></i> WhatsApp</a><a href="https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}" target="_blank" class="share-btn facebook"><i class="fab fa-facebook-f"></i> Facebook</a><a href="https://twitter.com/intent/tweet?url=${encodeURIComponent(url)}&text=${text}" target="_blank" class="share-btn twitter"><i class="fab fa-twitter"></i> Twitter</a></div>`;
        }

        function openModal(type, id) {
            const data = contentData[type][id];
            if (!data) return;
            modalTitle.textContent = data.title;
            let finalContent = data.content;
            if (type === 'articles') {
                finalContent += generateShareLinks(id, data.title);
            }
            modalBody.innerHTML = finalContent;
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            modal.classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        document.querySelectorAll('.open-modal-btn, .open-legal-btn').forEach(button => {
            button.addEventListener('click', (e) => {
                e.preventDefault();
                const type = button.classList.contains('open-legal-btn') ? 'legal' : 'articles';
                const id = button.dataset.articleId || button.dataset.legalId;
                openModal(type, id);
            });
        });

        closeModalBtn.addEventListener('click', closeModal);
        modal.addEventListener('click', (e) => { if (e.target === modal) closeModal(); });
        document.addEventListener('keydown', (e) => { if (e.key === 'Escape') closeModal(); });
        
        mobileMenuButton.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));

        window.onscroll = () => {
            scrollTopBtn.style.display = (document.body.scrollTop > 300 || document.documentElement.scrollTop > 300) ? "block" : "none";
        };
        scrollTopBtn.addEventListener('click', () => window.scrollTo({top: 0, behavior: 'smooth'}));
        
        // ===================================================================
        // INICIO: LÓGICA DEL ASESOR DE IA AVANZADO
        // ===================================================================
        const chatMessages = document.getElementById('ai-chat-messages');
        const questionInput = document.getElementById('ai-question-input');
        const askBtn = document.getElementById('ask-ai-btn');
        const clearChatBtn = document.getElementById('clear-chat-btn');
        const copyBtn = document.getElementById('copy-ai-response-btn');
        const examplePromptsContainer = document.querySelector('.example-prompts');

        let chatHistory = [];
        let lastAiResponse = '';

        const initialPrompt = `Eres 'Fin', un asistente financiero amigable, experto y educativo para el sitio web 'Finanzas Claras'. Tu propósito es responder las preguntas de los usuarios sobre finanzas personales de una manera sencilla, clara y alentadora. No eres un asesor financiero certificado y siempre debes recordárselo al usuario.
        Reglas importantes:
        1.  **NUNCA** des consejos de inversión específicos (ej: "compra acciones de Tesla"). En su lugar, explica los conceptos (ej: "invertir en acciones significa...").
        2.  **SIEMPRE** enfócate en la educación financiera y los principios generales.
        3.  Usa un tono cercano, positivo y fácil de entender. Formatea la respuesta usando Markdown simple (negritas con **texto** y listas con * item).
        4.  **INDISPENSABLE**: Al final de CADA respuesta, incluye el siguiente descargo de responsabilidad en una línea separada y en negrita:
            **Recuerda, esta es una guía educativa y no constituye un consejo financiero profesional. Consulta siempre a un asesor certificado para tu situación personal.**
        5.  Mantén el contexto de la conversación utilizando el historial proporcionado.`;
        
        const addMessage = (sender, message, type = 'text') => {
            const messageWrapper = document.createElement('div');
            messageWrapper.className = `chat-message ${sender}`;

            let contentHtml = '';
            if (type === 'typing') {
                contentHtml = `<div class="message-content"><div class="typing-indicator"><span></span><span></span><span></span></div></div>`;
            } else {
                contentHtml = `<div class="message-content">${message}</div>`;
            }
            
            const avatarHtml = sender === 'ai' 
                ? `<div class="avatar">
                        <svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="50" cy="50" r="48" fill="#10B981"/><path d="M50 50C50 63.8071 38.8071 75 25 75" stroke="white" stroke-width="6" stroke-linecap="round"/><path d="M50 50C50 36.1929 61.1929 25 75 25" stroke="white" stroke-width="6" stroke-linecap="round"/><circle cx="37" cy="42" r="6" fill="white"/><circle cx="63" cy="42" r="6" fill="white"/><path d="M35 62C38.3333 66 45.8 68 50 68C54.2 68 61.6667 66 65 62" stroke="white" stroke-width="4" stroke-linecap="round"/></svg>
                   </div>`
                : `<div class="avatar bg-gray-300"><i class="fas fa-user text-white"></i></div>`;

            messageWrapper.innerHTML = `${avatarHtml}${contentHtml}`;
            chatMessages.appendChild(messageWrapper);
            chatMessages.scrollTop = chatMessages.scrollHeight;
            return messageWrapper;
        };
        
        const renderResponse = (text) => {
            lastAiResponse = text;
            let html = text.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
            const lines = html.split('\n');
            let inList = false;
            let resultHtml = '';
            lines.forEach(line => {
                line = line.trim();
                if (line.startsWith('* ')) {
                    if (!inList) {
                        inList = true;
                        resultHtml += '<ul>';
                    }
                    resultHtml += `<li>${line.substring(2)}</li>`;
                } else {
                    if (inList) {
                        inList = false;
                        resultHtml += '</ul>';
                    }
                    if (line) {
                        resultHtml += `<p>${line}</p>`;
                    }
                }
            });
            if (inList) {
                resultHtml += '</ul>';
            }
            return resultHtml;
        };
        
        const handleSendMessage = async () => {
            const question = questionInput.value.trim();
            if (!question) return;

            addMessage('user', question);
            questionInput.value = '';
            askBtn.disabled = true;

            chatHistory.push({ role: "user", parts: [{ text: question }] });
            const typingIndicator = addMessage('ai', '', 'typing');

            try {
                const payload = {
                    contents: [
                        { role: "user", parts: [{ text: initialPrompt }] },
                        ...chatHistory
                    ]
                };
                const apiKey = ""; // API Key is handled by the environment
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                const result = await response.json();
                typingIndicator.remove();

                if (!response.ok) {
                    const errorDetails = result.error ? result.error.message : `HTTP error! status: ${response.status}`;
                    throw new Error(`La API devolvió un error: ${errorDetails}`);
                }
                
                if (!result.candidates || result.candidates.length === 0) {
                    if (result.promptFeedback && result.promptFeedback.blockReason) {
                        throw new Error(`Tu pregunta fue bloqueada por el filtro de seguridad (Razón: ${result.promptFeedback.blockReason}). Por favor, reformula tu pregunta.`);
                    } else {
                        throw new Error("La IA no generó una respuesta. La solicitud pudo haber sido bloqueada.");
                    }
                }

                const aiText = result.candidates[0].content.parts[0].text;
                const renderedHtml = renderResponse(aiText);
                addMessage('ai', renderedHtml);
                
                chatHistory.push({ role: "model", parts: [{ text: aiText }] });

            } catch (error) {
                typingIndicator.remove();
                console.error("Error en el Asesor IA:", error);
                let userMessage = 'Lo siento, ocurrió un error al contactar a la IA. Inténtalo de nuevo.';
                if (error.message.includes('bloqueada')) {
                    userMessage = error.message;
                } else if (error instanceof TypeError) {
                    userMessage = 'No se pudo conectar con el servicio de IA. Revisa tu conexión a internet.'
                }
                addMessage('ai', `<p class="text-red-500"><strong>Error:</strong> ${userMessage}</p>`);
            } finally {
                askBtn.disabled = false;
                questionInput.focus();
            }
        };

        askBtn.addEventListener('click', handleSendMessage);
        questionInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                handleSendMessage();
            }
        });

        clearChatBtn.addEventListener('click', () => {
            chatMessages.innerHTML = '';
            chatHistory = [];
            addMessage('ai', renderResponse('¡Hola! Soy Fin, tu asesor financiero. ¿En qué puedo ayudarte hoy?'));
        });

        copyBtn.addEventListener('click', () => {
            if (lastAiResponse) {
                const textArea = document.createElement('textarea');
                textArea.value = lastAiResponse;
                document.body.appendChild(textArea);
                textArea.select();
                try {
                    document.execCommand('copy');
                    copyBtn.innerHTML = '<i class="fas fa-check text-green-500"></i>';
                } catch (err) {
                    console.error('No se pudo copiar el texto: ', err);
                    copyBtn.innerHTML = '<i class="fas fa-times text-red-500"></i>';
                }
                document.body.removeChild(textArea);
                setTimeout(() => {
                    copyBtn.innerHTML = '<i class="fas fa-copy"></i>';
                }, 2000);
            }
        });

        examplePromptsContainer.addEventListener('click', (e) => {
            if (e.target.tagName === 'BUTTON') {
                questionInput.value = e.target.dataset.prompt;
                questionInput.focus();
            }
        });

        addMessage('ai', renderResponse('¡Hola! Soy Fin, tu asesor financiero. ¿En qué puedo ayudarte hoy?'));
    });
    </script>
</body>
</html>
